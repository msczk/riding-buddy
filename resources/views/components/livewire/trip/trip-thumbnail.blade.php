<div wire:click="view" class="trip-miniature col-12 col-md-6">
    <div class="d-block background-miniature">
        <div class="row row-author">
            <div class="col-12 d-flex align-items-center">
                <a href="{{ route('profile.show', $trip->user) }}">
                    <img width="28px" height="28px" class="rounded-circle" src="https://placehold.co/28x28" alt="{{ $trip->user->username }}">
                </a>
            
                <div class="d-flex flex-column align-items-start ps-2">
                    <a class="text-decoration-none text-white small fw-semibold" href="{{ route('profile.show', $trip->user) }}">{{ $trip->user->username }}</a>
                </div>
            </div>
        </div>
        <div class="row row-title">
            <div class="title">
                {{ $trip->name }}
            </div>
        </div>
        <div class="row row-info">
            <div class="col-6">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M2 11.2467V6.17139H14V11.2874C14 13.3801 12.6828 14.6667 10.5752 14.6667H5.41822C3.33041 14.6667 2 13.3534 2 11.2467ZM5.30626 9.60672C5.00329 9.62072 4.75302 9.38005 4.73985 9.07405C4.73985 8.76739 4.97695 8.51405 5.27991 8.50005C5.57629 8.50005 5.81998 8.73405 5.82656 9.03339C5.83974 9.34072 5.60263 9.59405 5.30626 9.60672ZM8.01317 9.60672C7.71021 9.62072 7.45993 9.38005 7.44676 9.07405C7.44676 8.76739 7.68386 8.51405 7.98683 8.50005C8.28321 8.50005 8.52689 8.73405 8.53348 9.03339C8.54665 9.34072 8.30955 9.59405 8.01317 9.60672ZM10.7003 12.0601C10.3974 12.0534 10.1537 11.8001 10.1537 11.4934C10.1471 11.1867 10.3908 10.9341 10.6937 10.9274H10.7003C11.0099 10.9274 11.2602 11.1807 11.2602 11.4934C11.2602 11.8067 11.0099 12.0601 10.7003 12.0601ZM7.44676 11.4934C7.45993 11.8001 7.71021 12.0407 8.01317 12.0267C8.30955 12.0141 8.54665 11.7607 8.53348 11.4541C8.52689 11.1541 8.28321 10.9201 7.98683 10.9201C7.68386 10.9341 7.44676 11.1867 7.44676 11.4934ZM4.73326 11.4934C4.74643 11.8001 4.99671 12.0407 5.29967 12.0267C5.59605 12.0141 5.83315 11.7607 5.81998 11.4541C5.81339 11.1541 5.5697 10.9201 5.27333 10.9201C4.97036 10.9341 4.73326 11.1867 4.73326 11.4934ZM10.1603 9.06739C10.1603 8.76072 10.3974 8.51405 10.7003 8.50739C10.9967 8.50739 11.2338 8.74672 11.247 9.04072C11.2536 9.34739 11.0165 9.60072 10.7201 9.60672C10.4171 9.61339 10.1669 9.38005 10.1603 9.07405V9.06739Z" fill="white"/>
                    <path opacity="0.4" d="M2.00195 6.17133C2.01052 5.77999 2.04345 5.00333 2.10536 4.75333C2.42149 3.34733 3.49504 2.45399 5.02961 2.32666H10.9703C12.4917 2.46066 13.5785 3.35999 13.8946 4.75333C13.9558 4.99666 13.9888 5.77933 13.9973 6.17133H2.00195Z" fill="white"/>
                    <path d="M5.53643 4.3935C5.82622 4.3935 6.04357 4.17416 6.04357 3.88016V1.8475C6.04357 1.5535 5.82622 1.3335 5.53643 1.3335C5.24664 1.3335 5.0293 1.5535 5.0293 1.8475V3.88016C5.0293 4.17416 5.24664 4.3935 5.53643 4.3935" fill="white"/>
                    <path d="M10.4632 4.3935C10.7464 4.3935 10.9703 4.17416 10.9703 3.88016V1.8475C10.9703 1.5535 10.7464 1.3335 10.4632 1.3335C10.1734 1.3335 9.95605 1.5535 9.95605 1.8475V3.88016C9.95605 4.17416 10.1734 4.3935 10.4632 4.3935" fill="white"/>
                </svg>
                <span class="extra-small text-white">
                    {{ $trip->start_at->format(__('d M, H:i')) }}
                </span>
            </div>
            <div class="col-6">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M5.68742 1.95801C7.144 1.11168 8.93436 1.12647 10.3773 1.99676C11.806 2.88477 12.6743 4.46961 12.6662 6.17446C12.633 7.86812 11.7019 9.46016 10.538 10.6909C9.86623 11.4044 9.11475 12.0354 8.2989 12.5709C8.21488 12.6194 8.12284 12.652 8.02733 12.6668C7.93541 12.6629 7.84589 12.6358 7.76684 12.5878C6.52129 11.7832 5.42856 10.7562 4.54123 9.55614C3.79873 8.55441 3.3769 7.34417 3.33301 6.08978C3.33204 4.38166 4.23085 2.80434 5.68742 1.95801ZM6.52912 6.79668C6.77413 7.40072 7.35246 7.79472 7.99408 7.79473C8.41441 7.79775 8.81847 7.62938 9.11621 7.32715C9.41396 7.02491 9.58066 6.61392 9.57917 6.18575C9.58142 5.53219 9.19665 4.94171 8.60452 4.69001C8.01239 4.43832 7.3297 4.57506 6.87522 5.03639C6.42074 5.49773 6.2841 6.19265 6.52912 6.79668Z" fill="white"/>
                    <ellipse opacity="0.4" cx="7.99935" cy="14.0002" rx="3.33333" ry="0.666667" fill="white"/>
                </svg>
                <span class="extra-small text-white">
                    {{ $trip->city }}, {{ $trip->country }}
                </span>
            </div>
            <div class="col-6">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M20 11C19.82 11 19.64 11.03 19.47 11.05L17.41 9H20V6L16.28 7.86L13.41 5H9V7H12.59L14.59 9H11L7 11L5 9H0V11H4C1.79 11 0 12.79 0 15C0 17.21 1.79 19 4 19C6.21 19 8 17.21 8 15L10 17H13L16.49 10.9L17.5 11.91C16.59 12.64 16 13.75 16 15C16 17.21 17.79 19 20 19C22.21 19 24 17.21 24 15C24 12.79 22.21 11 20 11ZM4 17C2.9 17 2 16.1 2 15C2 13.9 2.9 13 4 13C5.1 13 6 13.9 6 15C6 16.1 5.1 17 4 17ZM20 17C18.9 17 18 16.1 18 15C18 13.9 18.9 13 20 13C21.1 13 22 13.9 22 15C22 16.1 21.1 17 20 17Z" fill="white"/>
                </svg>
                <span class="extra-small text-white">
                    {{ $trip->getLevelLabel() }}
                </span>
            </div>
            
            <div class="col-6">
                <svg width="22" height="22" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M19.9534 22.3284C16.7909 22.3284 14.1226 22.8451 14.1226 24.8396C14.1226 26.8348 16.8082 27.3334 19.9534 27.3334C23.1159 27.3334 25.7843 26.8167 25.7843 24.8222C25.7843 22.827 23.0987 22.3284 19.9534 22.3284Z" fill="white"></path>
                    <path d="M19.9532 20.4282C22.0947 20.4282 23.8118 18.7012 23.8118 16.5475C23.8118 14.3929 22.0947 12.6667 19.9532 12.6667C17.8118 12.6667 16.0947 14.3929 16.0947 16.5475C16.0947 18.7012 17.8118 20.4282 19.9532 20.4282Z" fill="white"></path>
                    <path d="M28.3307 17.4511C28.8847 15.2717 27.2604 13.3145 25.192 13.3145C24.9671 13.3145 24.7521 13.3392 24.5419 13.3813C24.514 13.3879 24.4828 13.402 24.4664 13.4267C24.4475 13.4581 24.4615 13.5002 24.482 13.5274C25.1034 14.4041 25.4604 15.4715 25.4604 16.6173C25.4604 17.7152 25.1329 18.7389 24.5584 19.5883C24.4993 19.6758 24.5518 19.7939 24.656 19.812C24.8005 19.8376 24.9482 19.8508 25.0993 19.855C26.6054 19.8946 27.9572 18.9197 28.3307 17.4511Z" fill="white"></path>
                    <path d="M29.9086 22.5822C29.6328 21.9911 28.9672 21.5858 27.9552 21.3868C27.4775 21.2696 26.1847 21.1045 24.9823 21.1268C24.9642 21.1293 24.9544 21.1417 24.9527 21.1499C24.9503 21.1615 24.9552 21.1813 24.979 21.1937C25.5347 21.4702 27.6827 22.673 27.4126 25.2098C27.4011 25.3196 27.4889 25.4145 27.5981 25.398C28.1267 25.322 29.4867 25.0282 29.9086 24.1127C30.1417 23.6289 30.1417 23.0667 29.9086 22.5822Z" fill="white"></path>
                    <path d="M15.4578 13.3816C15.2485 13.3386 15.0327 13.3147 14.8078 13.3147C12.7394 13.3147 11.115 15.272 11.6699 17.4513C12.0425 18.9199 13.3944 19.8948 14.9005 19.8552C15.0515 19.8511 15.2001 19.8371 15.3437 19.8123C15.448 19.7941 15.5005 19.6761 15.4414 19.5886C14.8669 18.7383 14.5394 17.7155 14.5394 16.6176C14.5394 15.4709 14.8972 14.4035 15.5186 13.5277C15.5383 13.5004 15.553 13.4583 15.5333 13.427C15.5169 13.4014 15.4866 13.3882 15.4578 13.3816Z" fill="white"></path>
                    <path d="M12.0448 21.3866C11.0328 21.5856 10.368 21.9909 10.0922 22.582C9.85827 23.0666 9.85827 23.6287 10.0922 24.1133C10.5141 25.028 11.8741 25.3227 12.4027 25.3978C12.5119 25.4143 12.5989 25.3202 12.5874 25.2096C12.3173 22.6736 14.4653 21.4708 15.0218 21.1943C15.0448 21.1811 15.0497 21.1621 15.0473 21.1497C15.0456 21.1415 15.0366 21.1291 15.0185 21.1274C13.8153 21.1043 12.5234 21.2694 12.0448 21.3866Z" fill="white"></path>
                </svg>
                
                <span class="extra-small text-white">
                    {{ $trip->approvedUsers()->count() }} / {{$trip->max_participants}}
                </span>
            </div>
            
        </div>
    </div>
</div>















    {{-- @if (!$trip->trashed() && $trip->public_after_over)
        <a class="d-block" href="{{ route('trip.show', $trip) }}">
    @else
        <div>
    @endif
        <div>
            <img class="w-100" src="https://placehold.co/300x180" alt="{{ $trip->name }}">
        </div>

        <div>{{ $trip->name }}</div>

        <div>
            <span>{{ $trip->distance }} km</span> - <span>{{ $trip->duration }} h</span> - <span>{{ $trip->approvedUsers()->count() }} / {{ $trip->max_participants }}</span>
        </div>

        <div>Le {{ date_format($trip->start_at, 'd-m-Y')  }} Ã  {{ date_format($trip->start_at, 'H:i')  }} par {{ $trip->user->username }}</div>
        @if (!$trip->trashed() && $trip->public_after_over)
            </a>
        @else
            </div>
        @endif
    @if($showEdit)
        <a class="btn btn-success" href="{{ route('trip.edit', $trip) }}">{{ __('Edit') }}</a>
    @endif
    @if($showTrash && !$trip->isOver())
        <form method="POST" action="{{ route('trip.destroy', $trip) }}">
            @csrf
            @method('delete')
            <button class="btn btn-danger" type="submit">{{ __('Delete') }}</button>
        </form>
    @endif
     @if ($trip->isOver() && !$trip->trashed())
    <form method="POST" action="{{ route('trip.visibility', $trip) }}">
        @csrf
        @method('put')
        @if($trip->public_after_over)
            <button class="btn btn-success" type="submit">{{ __('Visible') }}</button>
        @else
            <button class="btn btn-danger" type="submit">{{ __('Hidden') }}</button>
        @endif
    </form>
    @endif --}}

